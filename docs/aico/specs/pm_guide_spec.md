# AICO_项目管理规范

## 1. 文件结构
项目跟踪采用统一文件管理：
- `ProjectTracking.xlsx` （项目跟踪表）
  - **原始需求（Sheet1）**
  - **需求管理（Sheet2）**
  - **用户故事管理（Sheet3）**
  - **任务跟踪（Sheet4）**
  - **变更管理（Sheet5）**

## 2. `ProjectTracking.xlsx` 项目跟踪表

### 2.1 原始需求跟踪（Sheet:「原始需求」）
| 字段名称     | 字段含义                                                     |
|------------|----------------------------------------------------------|
| 需求文件     | 原始需求文件的路径,作为唯一标识                                |
| 需求类型     | 文档(md/txt/docx)/视频/音频/其他                            |
| 添加时间     | 需求文件添加到项目的时间                                      |
| 当前状态     | new(新建)/parsed_by_ba(BA已解析)/parsed_by_ea(EA已解析)/completed(完成) |
| 关联需求ID  | 关联到「需求管理」中的需求ID（格式: REQ-XXX）                 |
| BA解析时间   | BA角色完成需求解析的时间                                      |
| EA解析时间   | EA角色完成需求解析的时间                                      |
| 完成时间     | 需求解析完全完成的时间                                        |
| 备注        | 其他需要说明的信息                                           |

### 2.2 需求管理（Sheet:「需求管理」）
| 字段名称       | 字段含义                                                         |
|--------------|------------------------------------------------------------------|
| 需求ID       | 每条需求的唯一标识，用于关联用户故事和任务（格式: REQ-001）        |
| 原始需求文件 | 关联到「原始需求」中的需求文件路径                                |
| 需求名称     | 对需求的简短概括                                                 |
| 需求描述     | 详细描述需求内容，包括业务背景、功能逻辑等                        |
| 需求来源     | 需求的提出来源（客户反馈/内部优化/市场分析等）                     |
| 需求优先级   | 高/中/低 或 MoSCoW（Must/Should/Could/Won't）                     |
| 需求状态     | 需求状态（已提出/待评审/评审通过/开发中/完成/关闭）                |
| 提出人/负责人 | 该需求由谁提出，后续由谁负责跟进                                 |
| 提出时间     | 需求正式登记或提出的时间                                         |
| 目标完成时间 | 预计该需求完成的时间                                             |
| 验收标准     | 需求通过的标准，如输入、输出条件                                  |
| 设计状态     | 未开始/设计中/待评审/基线化                                      |
| 关联设计文档 | PRD文档路径（格式：`docs/design/prd/{版本}/xxx.md`）              |
| 代码基线版本 | 关联的代码版本号（格式：v1.0.0）                                  |
| 设计评审记录 | 评审人/评审时间/评审意见（JSON格式存储）                          |
| 备注         | 其他补充说明，例如风险、约束、依赖等                              |

---

### 2.3 用户故事管理（Sheet:「用户故事管理」）
| 字段名称      | 字段含义                                                   |
|-------------|----------------------------------------------------------|
| 用户故事ID  | 每个用户故事的唯一标识（格式: US-001）                     |
| 关联需求ID  | 该用户故事属于哪个需求（关联 `需求管理` 的 `需求ID`）       |
| 用户故事名称 | 用户故事的简要描述                                       |
| 用户故事描述 | 按照"As a ..., I want ..., so that ..." 方式描述用户需求 |
| 优先级      | 高/中/低，或与需求优先级一致                              |
| 状态        | 用户故事状态（待拆分/开发中/测试中/完成等）               |
| 验收标准    | 验收用户故事的客观标准，如输入、输出、业务规则           |
| 创建时间    | 该用户故事创建的时间                                     |
| 备注        | 其他需要说明的信息                                       |

---

### 2.4 任务跟踪（Sheet:「任务跟踪」）
| 字段名称         | 字段含义                                                   |
|-----------------|----------------------------------------------------------|
| 任务ID         | 每个任务的唯一标识（格式: T-001）                           |
| 关联需求ID     | 该任务属于哪个需求（关联 `需求管理` 的 `需求ID`）           |
| 关联用户故事ID | 该任务属于哪个用户故事（关联 `用户故事管理` 的 `用户故事ID`）|
| 任务名称       | 简要描述任务内容                                           |
| 任务描述       | 具体任务内容，包括实现方法、技术方案、业务规则等           |
| 任务类型       | 需求分析/架构设计/开发/测试/部署/文档编写                   |
| 关联产出物     | 关联的设计文档/测试用例/部署脚本路径                        |
| 负责人        | 该任务的执行者                                             |
| 任务状态      | 任务状态（待开始/进行中/已完成/阻塞等）                     |
| 计划开始时间  | 计划任务的开始时间                                         |
| 计划结束时间  | 计划任务的结束时间                                         |
| 实际开始时间  | 实际任务开始的时间                                         |
| 实际结束时间  | 实际任务完成的时间                                         |
| 备注         | 其他需要记录的信息，如风险、依赖等                         |

---

### 2.5 变更跟踪（Sheet:「变更管理」）
| 字段名称         | 字段含义                                                   |
|------------------|----------------------------------------------------------|
| 变更ID          | 变更唯一标识（格式：CHG-001）                              |
| 关联需求ID       | 受变更影响的需求ID                                         |
| 变更类型         | 需求变更/设计变更/代码变更/紧急修复                         |
| 变更描述         | 变更的详细说明及原因                                       |
| 影响分析         | 对需求/设计/任务的影响评估                                  |
| 提出人/提出时间  | 变更提出者和时间                                           |
| 审批状态         | 待审批/已批准/已拒绝                                       |
| 实施状态         | 未开始/进行中/已完成                                       |
| 基线版本影响     | 影响的基线版本（需求/设计/代码）                            |
| 关联任务ID       | 为实施变更创建的任务                                        |
| 关闭时间         | 变更关闭的时间                                             |

---

## 3. 关联逻辑更新
- **需求 (`REQ-XXX`) → 用户故事 (`US-XXX`) → 任务 (`T-XXX`)**  
  通过以下字段建立关联链：
  ```mermaid
  graph LR
    REQ[需求ID] --> US[用户故事ID]
    US --> TASK[任务ID]
  ```
  跟踪表中需保持以下关联：
  - 用户故事管理表的「关联需求ID」字段
  - 任务跟踪表的「关联用户故事ID」字段

## 4. 使用建议
1. **ID 命名规范**
   - 需求 ID： `REQ-001`
   - 用户故事 ID： `US-001`
   - 任务 ID： `T-001`
   - 这种命名方式有助于保持数据关联清晰。

2. **原始需求管理**
   - 原始需求文件统一存放在项目的 `raw_requirements` 目录下
   - 文件命名格式: `iter{迭代号}_{原始文件名}`
   - 每次迭代新增的需求都要在原始需求跟踪表中登记
   - BA/EA 解析完成后要及时更新状态和时间

3. **文件管理**
   - 推荐使用**云端存储**（如 Google Drive, OneDrive, SharePoint）共享文件，避免多人编辑冲突。
   - 原始需求文件要保持完整性，不要随意修改

4. **定期更新**
   - 需求变更时，及时同步 `原始需求`、`需求管理`、`用户故事管理` 和 `任务跟踪`。
   - 任务完成后，状态要同步更新到 `用户故事管理`，确保进度可追踪。

---

## 5. 示例数据

### 5.1 原始需求跟踪示例(ProjectTracking.xlsx:「原始需求」)

| 需求文件  | 需求类型 | 添加时间 | 当前状态 | BA解析时间 | EA解析时间 | 完成时间 | 备注 |
|----------|---------|----------|----------|------------|------------|----------|------|
| raw_requirements/iter1_EA-Design.md | 文档 | 2024-01-20 10:00:00 | completed | 2024-01-20 10:30:00 | 2024-01-20 10:45:00 | 2024-01-20 11:00:00 | 架构设计文档 |
| raw_requirements/iter2_new_feature.txt | 文档 | 2024-01-21 09:00:00 | new | - | - | - | 新功能需求 |

### 5.2 需求管理示例(ProjectTracking.xlsx:「需求管理」)

| 需求ID  | 需求名称   | 需求描述                                     | 需求来源 | 需求优先级 | 需求状态  | 提出人 | 提出时间    | 目标完成时间 | 验收标准                              | 备注         |
|---------|-----------|----------------------------------------------|----------|------------|-----------|--------|-------------|-------------|----------------------------------------|-------------|
| REQ-001 | 登录功能需求 | 用户通过账号、密码以及验证码进行系统登录       | 客户反馈  | 高          | 评审通过   | 张三   | 2025-01-01  | 2025-02-01  | 成功输入正确账号密码+验证码可登录系统  | 需要多语言支持 |


### 5.3 用户故事管理示例(ProjectTracking.xlsx:「用户故事管理」)

| 用户故事ID | 关联需求ID | 用户故事名称     | 用户故事描述                                                | 优先级 | 状态   | 验收标准                                 | 创建时间    | 备注               |
|------------|-----------|------------------|-------------------------------------------------------------|--------|--------|-------------------------------------------|------------|--------------------|
| US-001     | REQ-001   | 用户登录：验证账号密码 | 作为"注册用户"，我希望能够通过系统账号密码登录，以便使用系统功能 | 高      | 开发中 | 输入正确账号、密码、验证码后可登录系统   | 2025-01-05 | 验证码错误提示需设计 |


### 5.4 任务跟踪示例(ProjectTracking.xlsx:「任务跟踪」)

| 任务ID | 关联需求ID | 关联用户故事ID | 任务名称       | 任务描述              | 任务类型 | 负责人 | 任务状态 | 计划开始时间 | 计划结束时间 | 实际开始时间 | 实际结束时间 | 备注                        |
|--------|-----------|----------------|----------------|-----------------------|----------|--------|----------|--------------|--------------|--------------|--------------|-----------------------------|
| T-001  | REQ-001   | US-001         | 实现登录界面UI | 编写前端页面、对接API  | 开发     | 李四   | 进行中   | 2025-01-10   | 2025-01-12   | 2025-01-11   | 2025-01-13   | 前端框架需升级到最新版本     |
| T-002  | REQ-001   | US-001         | 验证码验证逻辑  | 后端接口校验验证码     | 开发     | 王五   | 待开始   | 2025-01-12   | 2025-01-14   | -            | -            | 验证码错误时要有对应的提示 |

## 6. 基线管理规范
1. **基线类型**：
   - 需求基线（REQ-BL）：通过`ReviewAllRequirements`确认
   - 设计基线（DESIGN-BL）：通过`ReviewAllDesigns`确认
   - 代码基线（CODE-BL）：通过`ReviewAllImpTasks`确认

2. **基线标识规则**：
   ```mermaid
   graph LR
     REQ-BL[需求基线 v1.0] --> DESIGN-BL[设计基线 v1.1]
     DESIGN-BL --> CODE-BL[代码基线 v1.2]
   ```
   - 版本号遵循语义化版本控制（Major.Minor.Patch）
   - 每次基线确认需生成版本报告（使用`generate_version_report`）

## 7. 变更控制流程
1. **变更生命周期**：
   ```mermaid
   flowchart TD
     A[变更提出] --> B[影响分析]
     B --> C{审批通过?}
     C -->|是| D[创建变更任务]
     C -->|否| E[关闭变更]
     D --> F[实施变更]
     F --> G[验证效果]
     G --> H[更新基线]
   ```

2. **紧急变更处理**：
   - 添加「变更紧急度」字段（常规/紧急）
   - 紧急变更可先实施后补审批流程